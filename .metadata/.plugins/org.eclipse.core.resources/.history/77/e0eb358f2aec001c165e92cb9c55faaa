 
 /*------------------------------------------------------------------------
    File        : CardDeck
    Purpose     : 
    Syntax      : 
    Description : 
    Author(s)   : zdelcoco
    Created     : Tue Jun 14 11:00:07 CDT 2022
    Notes       : 
  ----------------------------------------------------------------------*/

USING Progress.Lang.*.

BLOCK-LEVEL ON ERROR UNDO, THROW.

CLASS CardDeck: 
  
  DEFINE PUBLIC VARIABLE oDeck AS CLASS Card EXTENT 110 NO-UNDO.
  
  DEFINE PROPERTY iNumCards AS INTEGER NO-UNDO
    GET.
    PRIVATE SET.
              
  CONSTRUCTOR PUBLIC CardDeck ():          
    THIS-OBJECT:fill().  
  END CONSTRUCTOR.  
  
  METHOD PRIVATE VOID fill():
    DEFINE VARIABLE iCardGroup AS INTEGER NO-UNDO.     
    
    DO iCardGroup = 1 TO 10:                      
      oDeck[iCardGroup]      = NEW Card("Piggy Bank", 5000).         
      oDeck[iCardGroup + 10] = NEW Card("Cash Under The Mattress", 5000).
      oDeck[iCardGroup + 20] = NEW Card("Baseball Cards", 5000).                   
      oDeck[iCardGroup + 30] = NEW Card("Stamp Collection", 5000).
      oDeck[iCardGroup + 40] = NEW Card("Coin Collection", 5000).
      oDeck[iCardGroup + 50] = NEW Card("Bank Account", 10000).
      oDeck[iCardGroup + 60] = NEW Card("Stocks", 10000).
      oDeck[iCardGroup + 70] = NEW Card("Classic Auto", 15000).
      oDeck[iCardGroup + 80] = NEW Card("Jewels", 15000).  

      IF iCardGroup <= 8 THEN
      DO:
        oDeck[iCardGroup + 90] = NEW Card("Home", 20000).
        oDeck[iCardGroup + 98] = NEW Card("Silver", 25000). 
      END.      

      IF iCardGroup <= 4 THEN
      DO:   
        oDeck[iCardGroup + 106] = NEW Card("Gold", 50000).    
      END.            
    END.     
    
    iNumCards = 110.   
  END METHOD.  
  
  METHOD PUBLIC Card deal():
    IF iNumCards = 0 THEN RETURN ?.
    iNumCards = iNumCards - 1.
    RETURN THIS-OBJECT:oDeck[iNumCards].
  END METHOD.

  DESTRUCTOR PUBLIC CardDeck():
  END DESTRUCTOR.

END CLASS.